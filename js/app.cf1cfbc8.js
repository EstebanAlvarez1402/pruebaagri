(()=>{"use strict";var o={84:(o,a,e)=>{o.exports=e.p+"img/papas.4d64e9c7.jpg"},235:(o,a,e)=>{var i=e(751),s=e(641);function t(o,a,e,i,t,r){const l=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.Wv)(l)}const r={name:"App"};var l=e(262);const c=(0,l.A)(r,[["render",t]]),n=c;var d=e(499),u=e(33);const p={class:"login-page"},k={class:"formulario"},m={class:"caja"},v={key:0,class:"error"},L={class:"links"};function g(o,a,e,t,r,l){const c=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",p,[a[9]||(a[9]=(0,s.Lk)("div",{class:"imagen"},[(0,s.Lk)("img",{src:"https://images.unsplash.com/photo-1464226184884-fa280b87c399?w=800",alt:"Agricultura"})],-1)),(0,s.Lk)("div",k,[(0,s.Lk)("div",m,[a[7]||(a[7]=(0,s.Lk)("div",{class:"logo"},"ðŸŒ¾",-1)),a[8]||(a[8]=(0,s.Lk)("h2",null,"Iniciar SesiÃ³n",-1)),r.error?((0,s.uX)(),(0,s.CE)("div",v,(0,u.v_)(r.error),1)):(0,s.Q3)("",!0),(0,s.Lk)("form",{onSubmit:a[2]||(a[2]=(0,i.D$)((...o)=>l.iniciarSesion&&l.iniciarSesion(...o),["prevent"]))},[(0,s.bo)((0,s.Lk)("input",{type:"email","onUpdate:modelValue":a[0]||(a[0]=o=>r.email=o),placeholder:"Correo electrÃ³nico",required:""},null,512),[[i.Jo,r.email]]),(0,s.bo)((0,s.Lk)("input",{type:"password","onUpdate:modelValue":a[1]||(a[1]=o=>r.password=o),placeholder:"ContraseÃ±a",required:""},null,512),[[i.Jo,r.password]]),a[3]||(a[3]=(0,s.Lk)("button",{type:"submit"},"Iniciar sesiÃ³n",-1))],32),(0,s.Lk)("div",L,[a[5]||(a[5]=(0,s.Lk)("a",{href:"#"},"Â¿Olvidaste tu contraseÃ±a?",-1)),a[6]||(a[6]=(0,s.Lk)("span",null," | ",-1)),(0,s.bF)(c,{to:"/register"},{default:(0,s.k6)(()=>[...a[4]||(a[4]=[(0,s.eW)("Registrarse",-1)])]),_:1})])])])])}const b="http://localhost:3000/api";function h(o,a){return fetch(b+"/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,password:a})}).then(o=>o.json()).catch(o=>{throw console.log("Error:",o),o})}function f(o,a){return fetch(b+"/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,password:a})}).then(o=>o.json()).catch(o=>{throw console.log("Error:",o),o})}const C={name:"LoginView",data(){return{email:"",password:"",error:""}},methods:{iniciarSesion(){this.error="",h(this.email,this.password).then(o=>{console.log("Login exitoso",o),this.$router.push("/productos")}).catch(o=>{this.error="Error al iniciar sesiÃ³n",console.log(o),setTimeout(()=>{this.$router.push("/productos")},1e3)})}}},P=(0,l.A)(C,[["render",g],["__scopeId","data-v-2ccfdf53"]]),y=P,E={class:"register-page"},x={class:"formulario"},_={class:"caja"},X={key:0,class:"error"},F={class:"links"};function I(o,a,e,t,r,l){const c=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",E,[a[7]||(a[7]=(0,s.Lk)("div",{class:"imagen"},[(0,s.Lk)("img",{src:"https://images.unsplash.com/photo-1464226184884-fa280b87c399?w=800",alt:"Agricultura"})],-1)),(0,s.Lk)("div",x,[(0,s.Lk)("div",_,[a[5]||(a[5]=(0,s.Lk)("div",{class:"logo"},"ðŸŒ¾",-1)),a[6]||(a[6]=(0,s.Lk)("h2",null,"Registrarse",-1)),r.error?((0,s.uX)(),(0,s.CE)("div",X,(0,u.v_)(r.error),1)):(0,s.Q3)("",!0),(0,s.Lk)("form",{onSubmit:a[2]||(a[2]=(0,i.D$)((...o)=>l.registrarUsuario&&l.registrarUsuario(...o),["prevent"]))},[(0,s.bo)((0,s.Lk)("input",{type:"email","onUpdate:modelValue":a[0]||(a[0]=o=>r.email=o),placeholder:"Correo electrÃ³nico",required:""},null,512),[[i.Jo,r.email]]),(0,s.bo)((0,s.Lk)("input",{type:"password","onUpdate:modelValue":a[1]||(a[1]=o=>r.password=o),placeholder:"ContraseÃ±a",required:""},null,512),[[i.Jo,r.password]]),a[3]||(a[3]=(0,s.Lk)("button",{type:"submit"},"Registrarse",-1))],32),(0,s.Lk)("div",F,[(0,s.bF)(c,{to:"/login"},{default:(0,s.k6)(()=>[...a[4]||(a[4]=[(0,s.eW)("Â¿Ya tienes cuenta? Inicia sesiÃ³n",-1)])]),_:1})])])])])}const M={name:"RegisterView",data(){return{email:"",password:"",error:""}},methods:{registrarUsuario(){this.error="",f(this.email,this.password).then(o=>{console.log("Registro exitoso",o),this.$router.push("/productos")}).catch(o=>{this.error="Error al registrarse",console.log(o),setTimeout(()=>{this.$router.push("/productos")},1e3)})}}},S=(0,l.A)(M,[["render",I],["__scopeId","data-v-40869318"]]),A=S,w={class:"productos-page"},z={class:"navbar"},q={class:"navbar-right"},V={key:0,class:"busqueda-container"},j={class:"busqueda-wrapper"},U={key:0,class:"sin-resultados"},N={key:1,class:"resultados-info"},K={class:"tabs"},D={key:0,class:"tab-contenido"},Q={class:"categorias-filtro"},T=["value"],J={class:"precio-filtro"},R={class:"precio-inputs"},$={class:"precio-info"},O={class:"ordenar-opciones"},B=["onClick"],W={class:"filtros-acciones"},H={key:1,class:"tab-contenido"},G={key:0,class:"comparador-vacio"},Y={key:1,class:"comparador-tabla"},Z=["src","alt"],oo={class:"score-row"},ao={class:"recomendacion"},eo={class:"mejor-opcion"},io=["src","alt"],so={class:"contenido"},to={key:0,class:"banner-comparador"},ro={class:"lista-productos"},lo={key:0,class:"producto-card"},co={class:"checkbox-comparar"},no=["checked","onChange"],uo=["onClick"],po={class:"card-izquierda"},ko=["src","alt"],mo={class:"info-basica"},vo={class:"descripcion"},Lo={class:"precio"},go={key:1,class:"producto-expandido"},bo={class:"header-izquierda"},ho=["src","alt"],fo={class:"descripcion-corta"},Co={class:"header-derecha"},Po={class:"precio"},yo={class:"producto-detalle"},Eo={class:"detalle-superior"},xo={class:"agricultor-info"},_o=["src"],Xo={class:"rating"},Fo={class:"estrellas"},Io={class:"acciones"},Mo=["onClick"],So={class:"disponible"},Ao={class:"descripcion-larga"},wo={class:"otros-productos-seccion"},zo={class:"info-agricultor"},qo={class:"otros-productos"},Vo=["onClick"],jo=["src","alt"],Uo={class:"otro-info"},No={class:"otro-nombre"},Ko={class:"otro-precio"},Do={class:"otro-stock"},Qo={key:0,class:"sin-otros"};function To(o,a,e,t,r,l){return(0,s.uX)(),(0,s.CE)("div",w,[(0,s.Lk)("div",z,[a[27]||(a[27]=(0,s.Lk)("div",{class:"logo"},[(0,s.Lk)("img",{src:"https://cdn-icons-png.flaticon.com/512/628/628283.png",alt:"Logo"})],-1)),(0,s.Lk)("div",q,[(0,s.Lk)("button",{class:"icon-btn",onClick:a[0]||(a[0]=(...o)=>l.toggleBusqueda&&l.toggleBusqueda(...o))},[...a[24]||(a[24]=[(0,s.Lk)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[(0,s.Lk)("circle",{cx:"11",cy:"11",r:"8"}),(0,s.Lk)("path",{d:"m21 21-4.35-4.35"})],-1)])]),(0,s.Lk)("button",{class:"icon-btn",onClick:a[1]||(a[1]=(...o)=>l.toggleFiltros&&l.toggleFiltros(...o))},[...a[25]||(a[25]=[(0,s.Lk)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[(0,s.Lk)("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})],-1)])]),(0,s.Lk)("button",{class:"icon-btn",onClick:a[2]||(a[2]=(...o)=>l.verPerfil&&l.verPerfil(...o))},[...a[26]||(a[26]=[(0,s.Lk)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[(0,s.Lk)("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),(0,s.Lk)("circle",{cx:"12",cy:"7",r:"4"})],-1)])]),(0,s.Lk)("button",{class:"btn-salir",onClick:a[3]||(a[3]=(...o)=>l.salir&&l.salir(...o))},"Salir")])]),(0,s.bF)(i.eB,{name:"slide"},{default:(0,s.k6)(()=>[r.mostrarBusqueda?((0,s.uX)(),(0,s.CE)("div",V,[(0,s.Lk)("div",j,[a[28]||(a[28]=(0,s.Lk)("svg",{class:"icono-busqueda",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[(0,s.Lk)("circle",{cx:"11",cy:"11",r:"8"}),(0,s.Lk)("path",{d:"m21 21-4.35-4.35"})],-1)),(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":a[4]||(a[4]=o=>r.busqueda=o),placeholder:"Buscar productos por nombre o descripcion...",class:"input-busqueda",ref:"busquedaInput"},null,512),[[i.Jo,r.busqueda]]),r.busqueda?((0,s.uX)(),(0,s.CE)("button",{key:0,class:"btn-limpiar",onClick:a[5]||(a[5]=(...o)=>l.limpiarBusqueda&&l.limpiarBusqueda(...o))},"Ã—")):(0,s.Q3)("",!0)]),r.busqueda&&0===l.productosOrdenados.length?((0,s.uX)(),(0,s.CE)("div",U," No se encontraron productos ")):(0,s.Q3)("",!0),r.busqueda&&l.productosOrdenados.length>0?((0,s.uX)(),(0,s.CE)("div",N,(0,u.v_)(l.productosOrdenados.length)+" producto(s) encontrado(s) ",1)):(0,s.Q3)("",!0)])):(0,s.Q3)("",!0)]),_:1}),(0,s.bF)(i.eB,{name:"slide"},{default:(0,s.k6)(()=>[r.mostrarFiltros?((0,s.uX)(),(0,s.CE)("div",{key:0,class:"filtros-modal",onClick:a[16]||(a[16]=o=>r.mostrarFiltros=!1)},[(0,s.Lk)("div",{class:"filtros-contenido",onClick:a[15]||(a[15]=(0,i.D$)(()=>{},["stop"]))},[(0,s.Lk)("button",{class:"cerrar-filtros",onClick:a[6]||(a[6]=o=>r.mostrarFiltros=!1)},"Ã—"),(0,s.Lk)("div",K,[(0,s.Lk)("button",{class:(0,u.C4)(["tab",{active:"filtros"===r.tabActiva}]),onClick:a[7]||(a[7]=o=>r.tabActiva="filtros")}," Filtros y Ordenar ",2),(0,s.Lk)("button",{class:(0,u.C4)(["tab",{active:"comparador"===r.tabActiva}]),onClick:a[8]||(a[8]=o=>r.tabActiva="comparador")}," Comparador ("+(0,u.v_)(r.productosComparar.length)+"/3) ",3)]),"filtros"===r.tabActiva?((0,s.uX)(),(0,s.CE)("div",D,[a[30]||(a[30]=(0,s.Lk)("h3",null,"Filtrar por Categoria",-1)),(0,s.Lk)("div",Q,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.categorias,o=>((0,s.uX)(),(0,s.CE)("label",{key:o,class:"checkbox-label"},[(0,s.bo)((0,s.Lk)("input",{type:"checkbox",value:o,"onUpdate:modelValue":a[9]||(a[9]=o=>r.categoriasFiltro=o)},null,8,T),[[i.lH,r.categoriasFiltro]]),(0,s.eW)(" "+(0,u.v_)(o),1)]))),128))]),a[31]||(a[31]=(0,s.Lk)("h3",null,"Rango de Precio",-1)),(0,s.Lk)("div",J,[(0,s.Lk)("div",R,[(0,s.bo)((0,s.Lk)("input",{type:"number","onUpdate:modelValue":a[10]||(a[10]=o=>r.precioMin=o),placeholder:"Min",step:"0.5"},null,512),[[i.Jo,r.precioMin,void 0,{number:!0}]]),a[29]||(a[29]=(0,s.Lk)("span",null,"-",-1)),(0,s.bo)((0,s.Lk)("input",{type:"number","onUpdate:modelValue":a[11]||(a[11]=o=>r.precioMax=o),placeholder:"Max",step:"0.5"},null,512),[[i.Jo,r.precioMax,void 0,{number:!0}]])]),(0,s.Lk)("div",$," S/"+(0,u.v_)(r.precioMin)+" - S/"+(0,u.v_)(r.precioMax),1)]),a[32]||(a[32]=(0,s.Lk)("h3",null,"Ordenar por",-1)),(0,s.Lk)("div",O,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.opcionesOrden,o=>((0,s.uX)(),(0,s.CE)("button",{key:o.valor,class:(0,u.C4)(["opcion-btn",{active:r.ordenActual===o.valor}]),onClick:a=>l.ordenarPor(o.valor)},(0,u.v_)(o.texto),11,B))),128))]),(0,s.Lk)("div",W,[(0,s.Lk)("button",{class:"btn-limpiar-filtros",onClick:a[12]||(a[12]=(...o)=>l.limpiarFiltros&&l.limpiarFiltros(...o))},"Limpiar Filtros"),(0,s.Lk)("button",{class:"btn-aplicar",onClick:a[13]||(a[13]=o=>r.mostrarFiltros=!1)},"Aplicar")])])):(0,s.Q3)("",!0),"comparador"===r.tabActiva?((0,s.uX)(),(0,s.CE)("div",H,[0===r.productosComparar.length?((0,s.uX)(),(0,s.CE)("div",G,[...a[33]||(a[33]=[(0,s.Lk)("p",null,"Selecciona productos desde la lista para compararlos",-1),(0,s.Lk)("p",{class:"hint"},"Haz click en el checkbox de cada producto",-1)])])):((0,s.uX)(),(0,s.CE)("div",Y,[(0,s.Lk)("table",null,[(0,s.Lk)("thead",null,[(0,s.Lk)("tr",null,[a[34]||(a[34]=(0,s.Lk)("th",null,"Producto",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.productosComparar,o=>((0,s.uX)(),(0,s.CE)("th",{key:o.id},[(0,s.Lk)("img",{src:o.imagen,alt:o.nombre},null,8,Z),(0,s.Lk)("span",null,(0,u.v_)(o.nombre),1)]))),128))])]),(0,s.Lk)("tbody",null,[(0,s.Lk)("tr",null,[a[35]||(a[35]=(0,s.Lk)("td",null,[(0,s.Lk)("strong",null,"Precio")],-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.productosComparar,o=>((0,s.uX)(),(0,s.CE)("td",{key:o.id}," S/"+(0,u.v_)(o.precio)+"/Kg ",1))),128))]),(0,s.Lk)("tr",null,[a[36]||(a[36]=(0,s.Lk)("td",null,[(0,s.Lk)("strong",null,"Rating")],-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.productosComparar,o=>((0,s.uX)(),(0,s.CE)("td",{key:o.id},(0,u.v_)(o.rating)+" â­ ",1))),128))]),(0,s.Lk)("tr",null,[a[37]||(a[37]=(0,s.Lk)("td",null,[(0,s.Lk)("strong",null,"Stock")],-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.productosComparar,o=>((0,s.uX)(),(0,s.CE)("td",{key:o.id},(0,u.v_)(o.stock)+" Kg ",1))),128))]),(0,s.Lk)("tr",null,[a[38]||(a[38]=(0,s.Lk)("td",null,[(0,s.Lk)("strong",null,"Categoria")],-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.productosComparar,o=>((0,s.uX)(),(0,s.CE)("td",{key:o.id},(0,u.v_)(o.categoria),1))),128))]),(0,s.Lk)("tr",oo,[a[39]||(a[39]=(0,s.Lk)("td",null,[(0,s.Lk)("strong",null,"Score Total")],-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.productosComparar,o=>((0,s.uX)(),(0,s.CE)("td",{key:o.id},(0,u.v_)(l.calcularScore(o))+"/100 ",1))),128))])])]),(0,s.Lk)("div",ao,[a[40]||(a[40]=(0,s.Lk)("h4",null,"Recomendacion",-1)),(0,s.Lk)("div",eo,[(0,s.Lk)("img",{src:l.mejorProducto.imagen,alt:l.mejorProducto.nombre},null,8,io),(0,s.Lk)("div",null,[(0,s.Lk)("strong",null,(0,u.v_)(l.mejorProducto.nombre),1),(0,s.Lk)("p",null,"Mejor relacion calidad-precio con "+(0,u.v_)(l.calcularScore(l.mejorProducto))+" puntos",1)])])]),(0,s.Lk)("button",{class:"btn-limpiar-comparador",onClick:a[14]||(a[14]=(...o)=>l.limpiarComparador&&l.limpiarComparador(...o))}," Limpiar Comparador ")]))])):(0,s.Q3)("",!0)])])):(0,s.Q3)("",!0)]),_:1}),(0,s.Lk)("div",so,[r.productosComparar.length>0?((0,s.uX)(),(0,s.CE)("div",to,[(0,s.eW)(" Comparando "+(0,u.v_)(r.productosComparar.length)+" productos - ",1),(0,s.Lk)("button",{onClick:a[17]||(a[17]=(...o)=>l.abrirComparador&&l.abrirComparador(...o))},"Ver comparacion")])):(0,s.Q3)("",!0),(0,s.Lk)("div",ro,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.productosOrdenados,o=>((0,s.uX)(),(0,s.CE)("div",{key:o.id,class:"producto-wrapper"},[r.productoExpandido?.id!==o.id?((0,s.uX)(),(0,s.CE)("div",lo,[(0,s.Lk)("div",co,[(0,s.Lk)("input",{type:"checkbox",checked:l.estaEnComparador(o.id),onChange:a=>l.toggleComparar(o),onClick:a[18]||(a[18]=(0,i.D$)(()=>{},["stop"]))},null,40,no)]),(0,s.Lk)("div",{class:"card-contenido",onClick:a=>l.expandirProducto(o)},[(0,s.Lk)("div",po,[(0,s.Lk)("img",{src:o.imagen,alt:o.nombre},null,8,ko),(0,s.Lk)("div",mo,[(0,s.Lk)("p",vo,(0,u.v_)(o.descripcion),1),(0,s.Lk)("span",Lo,"S/"+(0,u.v_)(o.precio)+"/Kg",1)])]),a[41]||(a[41]=(0,s.Lk)("button",{class:"btn-expandir"},"â–¼",-1))],8,uo)])):((0,s.uX)(),(0,s.CE)("div",go,[(0,s.Lk)("div",{class:"producto-header",onClick:a[19]||(a[19]=(...o)=>l.cerrarProducto&&l.cerrarProducto(...o))},[(0,s.Lk)("div",bo,[(0,s.Lk)("img",{src:o.imagen,alt:o.nombre,class:"img-pequena"},null,8,ho),(0,s.Lk)("p",fo,(0,u.v_)(o.descripcion),1)]),(0,s.Lk)("div",Co,[(0,s.Lk)("span",Po,"S/"+(0,u.v_)(o.precio)+"/Kg",1),a[42]||(a[42]=(0,s.Lk)("button",{class:"btn-colapsar"},"â–²",-1))])]),(0,s.Lk)("div",yo,[(0,s.Lk)("div",Eo,[(0,s.Lk)("div",xo,[(0,s.Lk)("img",{src:o.agricultorImagen,alt:"Agricultor",class:"agricultor-img"},null,8,_o),(0,s.Lk)("div",Xo,[(0,s.Lk)("span",Fo,(0,u.v_)(o.rating),1),a[43]||(a[43]=(0,s.Lk)("span",{class:"estrella"},"â­",-1))])]),(0,s.Lk)("div",Io,[(0,s.Lk)("button",{class:"btn-comprar",onClick:a=>l.comprarProducto(o)},"Comprar",8,Mo),(0,s.Lk)("div",So," Kg Disponibles: "+(0,u.v_)(o.stock),1)])]),(0,s.Lk)("div",Ao,[(0,s.Lk)("p",null,(0,u.v_)(o.descripcionLarga),1)]),(0,s.Lk)("div",wo,[a[44]||(a[44]=(0,s.Lk)("h3",null,"Mas productos de este agricultor",-1)),(0,s.Lk)("p",zo,(0,u.v_)(o.agricultorNombre),1),(0,s.Lk)("div",qo,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.obtenerProductosAgricultor(o.agricultorId,o.id),o=>((0,s.uX)(),(0,s.CE)("div",{key:o.id,class:"producto-otro",onClick:a=>l.expandirProducto(o)},[(0,s.Lk)("img",{src:o.imagen,alt:o.nombre},null,8,jo),(0,s.Lk)("div",Uo,[(0,s.Lk)("span",No,(0,u.v_)(o.nombre),1),(0,s.Lk)("span",Ko,"S/"+(0,u.v_)(o.precio)+"/Kg",1),(0,s.Lk)("span",Do,"Stock: "+(0,u.v_)(o.stock)+" Kg",1)])],8,Vo))),128))]),0===l.obtenerProductosAgricultor(o.agricultorId,o.id).length?((0,s.uX)(),(0,s.CE)("div",Qo," Este agricultor solo tiene este producto disponible ")):(0,s.Q3)("",!0)])])]))]))),128))])]),(0,s.bF)(i.eB,{name:"fade"},{default:(0,s.k6)(()=>[r.mostrarModalPerfil?((0,s.uX)(),(0,s.CE)("div",{key:0,class:"modal-perfil",onClick:a[23]||(a[23]=o=>r.mostrarModalPerfil=!1)},[(0,s.Lk)("div",{class:"perfil-contenido",onClick:a[22]||(a[22]=(0,i.D$)(()=>{},["stop"]))},[(0,s.Lk)("button",{class:"cerrar",onClick:a[20]||(a[20]=o=>r.mostrarModalPerfil=!1)},"Ã—"),a[45]||(a[45]=(0,s.Lk)("div",{class:"perfil-icono"},"ðŸ‘¤",-1)),(0,s.Lk)("h2",null,(0,u.v_)(r.nombreUsuario),1),a[46]||(a[46]=(0,s.Lk)("div",{class:"perfil-info"},[(0,s.Lk)("p",null,[(0,s.Lk)("strong",null,"Email:"),(0,s.eW)(" usuario@example.com")]),(0,s.Lk)("p",null,[(0,s.Lk)("strong",null,"Ubicacion:"),(0,s.eW)(" Lima, Peru")])],-1)),(0,s.Lk)("button",{class:"btn-editar",onClick:a[21]||(a[21]=(...o)=>l.irAPerfil&&l.irAPerfil(...o))},"Ver perfil completo"),a[47]||(a[47]=(0,s.Lk)("button",{class:"btn-configuracion"},"Configuracion",-1))])])):(0,s.Q3)("",!0)]),_:1})])}const Jo={name:"ProductosPage",data(){return{nombreUsuario:"Juan Perez",mostrarBusqueda:!1,mostrarFiltros:!1,mostrarModalPerfil:!1,busqueda:"",productoExpandido:null,productosComparar:[],tabActiva:"filtros",categoriasFiltro:[],precioMin:0,precioMax:20,ordenActual:"ninguno",categorias:["Tuberculos","Frutas","Verduras","Citricos"],opcionesOrden:[{valor:"ninguno",texto:"Sin ordenar"},{valor:"precio-asc",texto:"Precio: Menor a Mayor"},{valor:"precio-desc",texto:"Precio: Mayor a Menor"},{valor:"rating-desc",texto:"Mejor Valorados"},{valor:"stock-desc",texto:"Mayor Stock"}],productos:[{id:1,nombre:"Papas premium",descripcion:"Papas frescas, de excelente calidad y sabor. Perfectas para cocinar y disfrutar en cualquier receta, de la huerta a tu mesa.",descripcionLarga:"Hola, mi nombre es Luis Mendoza y soy agricultor de tercera generacion. Desde joven, aprendi el arte de cultivar la tierra y, hoy en dia, me dedico a producir productos frescos como papas, naranjas y mangos, utilizando metodos sostenibles para cuidar tanto de la tierra como de las futuras cosechas. Mi finca esta ubicada en el corazon del valle.",imagen:e(84),precio:7.2,rating:4.8,stock:25,categoria:"Tuberculos",agricultorId:1,agricultorNombre:"Luis Mendoza",agricultorImagen:e(592)},{id:2,nombre:"Mangos dulces",descripcion:"Mangos dulces y jugosos, perfectos para disfrutar frescos o en postres. El toque tropical que necesitas para tu dia.",descripcionLarga:"Hola, mi nombre es Luis Mendoza y soy agricultor de tercera generacion. Desde joven, aprendi el arte de cultivar la tierra y, hoy en dia, me dedico a producir productos frescos como papas, naranjas y mangos, utilizando metodos sostenibles para cuidar tanto de la tierra como de las futuras cosechas. Mi finca esta ubicada en el corazon del valle.",imagen:e(357),precio:7,rating:4.8,stock:20,categoria:"Frutas",agricultorId:1,agricultorNombre:"Luis Mendoza",agricultorImagen:e(592)},{id:3,nombre:"Naranjas jugosas",descripcion:"Naranjas frescas y jugosas, ideales para un zumo energetico o para disfrutar directamente. Sabor citrico incomparable.",descripcionLarga:"Hola, mi nombre es Luis Mendoza y soy agricultor de tercera generacion. Desde joven, aprendi el arte de cultivar la tierra y, hoy en dia, me dedico a producir productos frescos como papas, naranjas y mangos, utilizando metodos sostenibles para cuidar tanto de la tierra como de las futuras cosechas. Mi finca esta ubicada en el corazon del valle.",imagen:e(247),precio:4.8,rating:4.8,stock:28,categoria:"Citricos",agricultorId:1,agricultorNombre:"Luis Mendoza",agricultorImagen:e(592)},{id:4,nombre:"Lechuga fresca",descripcion:"Lechuga organica y crujiente, cultivada sin pesticidas. Perfecta para ensaladas saludables y deliciosas.",descripcionLarga:"Soy Maria Torres, agricultora apasionada por la agricultura organica. Cultivo lechugas y tomates utilizando solo metodos naturales.",imagen:e(982),precio:3.5,rating:4.6,stock:35,categoria:"Verduras",agricultorId:2,agricultorNombre:"Maria Torres",agricultorImagen:e(592)},{id:5,nombre:"Tomates organicos",descripcion:"Tomates rojos y jugosos, cultivados organicamente. Ideales para salsas, ensaladas o consumo directo.",descripcionLarga:"Soy Maria Torres, agricultora apasionada por la agricultura organica. Cultivo lechugas y tomates utilizando solo metodos naturales.",imagen:e(576),precio:5.2,rating:4.7,stock:30,categoria:"Verduras",agricultorId:2,agricultorNombre:"Maria Torres",agricultorImagen:e(592)},{id:6,nombre:"Limones frescos",descripcion:"Limones acidos y aromaticos, perfectos para limonadas, aderezos y recetas que necesitan un toque citrico.",descripcionLarga:"Soy Carlos Ramirez, especialista en citricos. Mis limones son conocidos por su acidez equilibrada y aroma intenso.",imagen:e(850),precio:4,rating:4.5,stock:40,categoria:"Citricos",agricultorId:3,agricultorNombre:"Carlos Ramirez",agricultorImagen:e(592)}]}},computed:{productosFiltrados(){let o=this.productos;if(this.busqueda){const a=this.busqueda.toLowerCase();o=o.filter(o=>o.nombre.toLowerCase().includes(a)||o.descripcion.toLowerCase().includes(a)||o.categoria.toLowerCase().includes(a))}return this.categoriasFiltro.length>0&&(o=o.filter(o=>this.categoriasFiltro.includes(o.categoria))),o=o.filter(o=>o.precio>=this.precioMin&&o.precio<=this.precioMax),o},productosOrdenados(){let o=[...this.productosFiltrados];switch(this.ordenActual){case"precio-asc":o.sort((o,a)=>o.precio-a.precio);break;case"precio-desc":o.sort((o,a)=>a.precio-o.precio);break;case"rating-desc":o.sort((o,a)=>a.rating-o.rating);break;case"stock-desc":o.sort((o,a)=>a.stock-o.stock);break}return o},mejorProducto(){return 0===this.productosComparar.length?null:this.productosComparar.reduce((o,a)=>this.calcularScore(a)>this.calcularScore(o)?a:o)}},methods:{toggleBusqueda(){this.mostrarBusqueda=!this.mostrarBusqueda,this.mostrarBusqueda&&this.$nextTick(()=>{this.$refs.busquedaInput?.focus()})},toggleFiltros(){this.mostrarFiltros=!this.mostrarFiltros},limpiarBusqueda(){this.busqueda=""},expandirProducto(o){this.productoExpandido=o},cerrarProducto(){this.productoExpandido=null},verPerfil(){this.mostrarModalPerfil=!0},irAPerfil(){this.$router.push("/perfil")},salir(){this.$router.push("/login")},obtenerProductosAgricultor(o,a){return this.productos.filter(e=>e.agricultorId===o&&e.id!==a)},toggleComparar(o){const a=this.productosComparar.findIndex(a=>a.id===o.id);a>-1?this.productosComparar.splice(a,1):this.productosComparar.length<3?this.productosComparar.push(o):alert("Solo puedes comparar hasta 3 productos a la vez")},estaEnComparador(o){return this.productosComparar.some(a=>a.id===o)},limpiarComparador(){this.productosComparar=[]},abrirComparador(){this.mostrarFiltros=!0,this.tabActiva="comparador"},calcularScore(o){const a=(20-o.precio)/20*40,e=o.rating/5*35,i=Math.min(o.stock/50*25,25);return Math.round(a+e+i)},ordenarPor(o){this.ordenActual=o},limpiarFiltros(){this.categoriasFiltro=[],this.precioMin=0,this.precioMax=20,this.ordenActual="ninguno"},comprarProducto(o){this.$router.push({name:"Compra",params:{productoId:o.id},query:{producto:JSON.stringify(o)}})}}},Ro=(0,l.A)(Jo,[["render",To],["__scopeId","data-v-7f1734eb"]]),$o=Ro,Oo={class:"perfil-page"},Bo={class:"navbar"},Wo={class:"contenido"},Ho={class:"sidebar"},Go=["src"],Yo={class:"menu-opciones"},Zo={class:"contenido-principal"},oa={key:0,class:"seccion"},aa={class:"formulario-perfil"},ea={class:"foto-actualizar"},ia={class:"foto-perfil-preview"},sa=["src"],ta={key:1,class:"icono-usuario"},ra={class:"campos-perfil"},la={key:1,class:"seccion"},ca={class:"lista-mis-productos"},na=["src","alt"],da={class:"info-producto"},ua={class:"precio"},pa={class:"acciones-producto"},ka=["onClick"],ma=["onClick"],va={key:0,class:"sin-productos"},La={key:2,class:"seccion"},ga={class:"tabla-ventas"},ba={class:"venta-info"},ha={class:"fecha"},fa={class:"producto"},Ca={class:"cantidad"},Pa={class:"total"},ya={key:0,class:"sin-ventas"},Ea={key:3,class:"seccion"},xa={class:"resumen-rating"},_a={class:"rating-grande"},Xa={class:"numero"},Fa={class:"estrellas-display"},Ia={class:"total"},Ma={class:"lista-resenas"},Sa={class:"resena-header"},Aa={class:"nombre"},wa={class:"estrellas-resena"},za={class:"comentario"},qa={class:"fecha-resena"},Va={key:0,class:"sin-resenas"},ja={key:4,class:"seccion"},Ua={class:"contenedor-lista-figma"},Na=["onClick"],Ka={class:"info-item"},Da={class:"detalle-pedido"},Qa={class:"detalle-pedido"},Ta={class:"acciones-item"},Ja=["src"],Ra={key:1,class:"pedido-expandido-figma"},$a={class:"info-item"},Oa={class:"detalle-pedido"},Ba={class:"detalle-pedido"},Wa={class:"acciones-item"},Ha=["src"],Ga={class:"detalle-expandido"},Ya={class:"grid-detalles"},Za={class:"seccion-info"},oe={class:"item-detalle"},ae={class:"valor-detalle"},ee={class:"item-detalle"},ie={class:"valor-detalle"},se={class:"item-detalle"},te={class:"valor-detalle"},re={class:"item-detalle"},le={class:"valor-detalle"},ce={class:"item-detalle"},ne={class:"valor-detalle precio-total"},de={class:"seccion-acciones"},ue={class:"imagen-producto-grande"},pe=["src"],ke={class:"botones-confirmacion"},me=["onClick"],ve=["onClick"],Le={class:"tiempo-pedido"},ge={key:0,class:"sin-pendientes"},be={key:5,class:"seccion"},he={class:"formulario-figma"},fe={class:"columna-izq"},Ce={class:"campo-form"},Pe={class:"campo-form"},ye={class:"campo-form"},Ee={class:"campos-fila"},xe={class:"campo-form campo-mitad"},_e={class:"campo-form campo-mitad"},Xe={class:"campo-form"},Fe={class:"columna-der"},Ie={class:"subir-imagen"},Me={class:"preview-imagen-figma"},Se=["src"],Ae={key:1,class:"placeholder-imagen-figma"},we={key:0,class:"info-imagen"},ze={class:"nombre-archivo"},qe={class:"botones-form"};function Ve(o,a,t,r,l,c){return(0,s.uX)(),(0,s.CE)("div",Oo,[(0,s.Lk)("div",Bo,[(0,s.Lk)("div",{class:"logo",onClick:a[0]||(a[0]=a=>o.$router.push("/productos"))},[...a[29]||(a[29]=[(0,s.Lk)("img",{src:"https://cdn-icons-png.flaticon.com/512/628/628283.png",alt:"Logo"},null,-1)])]),(0,s.Lk)("button",{class:"btn-salir",onClick:a[1]||(a[1]=(...o)=>c.salir&&c.salir(...o))},"Salir")]),(0,s.Lk)("div",Wo,[(0,s.Lk)("div",Ho,[(0,s.Lk)("div",{class:"foto-perfil-container",onClick:a[2]||(a[2]=o=>c.cambiarSeccion("perfil"))},[(0,s.Lk)("img",{src:l.usuario.foto,alt:"Perfil",class:"foto-perfil"},null,8,Go)]),(0,s.Lk)("div",Yo,[(0,s.Lk)("div",{class:(0,u.C4)(["opcion",{activo:"productos"===l.seccionActiva}]),onClick:a[3]||(a[3]=o=>c.cambiarSeccion("productos"))},[...a[30]||(a[30]=[(0,s.Lk)("span",{class:"icono"},"ðŸ“¦",-1),(0,s.Lk)("div",{class:"texto"},[(0,s.Lk)("strong",null,"Mis productos"),(0,s.Lk)("p",null,"Mira tus productos a la venta")],-1)])],2),(0,s.Lk)("div",{class:(0,u.C4)(["opcion",{activo:"historial"===l.seccionActiva}]),onClick:a[4]||(a[4]=o=>c.cambiarSeccion("historial"))},[...a[31]||(a[31]=[(0,s.Lk)("span",{class:"icono"},"ðŸ“‹",-1),(0,s.Lk)("div",{class:"texto"},[(0,s.Lk)("strong",null,"Historial de ventas"),(0,s.Lk)("p",null,"Actualiza tus datos fÃ­sicos y mÃ¡s")],-1)])],2),(0,s.Lk)("div",{class:(0,u.C4)(["opcion",{activo:"resenas"===l.seccionActiva}]),onClick:a[5]||(a[5]=o=>c.cambiarSeccion("resenas"))},[...a[32]||(a[32]=[(0,s.Lk)("span",{class:"icono"},"â­",-1),(0,s.Lk)("div",{class:"texto"},[(0,s.Lk)("strong",null,"ReseÃ±as"),(0,s.Lk)("p",null,"Descubre simulacros.")],-1)])],2),(0,s.Lk)("div",{class:(0,u.C4)(["opcion",{activo:"pendientes"===l.seccionActiva}]),onClick:a[6]||(a[6]=o=>c.cambiarSeccion("pendientes"))},[...a[33]||(a[33]=[(0,s.Lk)("span",{class:"icono"},"ðŸ•",-1),(0,s.Lk)("div",{class:"texto"},[(0,s.Lk)("strong",null,"Ventas Pendientes"),(0,s.Lk)("p",null,"Mira el historial de pedidos solicitados")],-1)])],2),(0,s.Lk)("div",{class:(0,u.C4)(["opcion",{activo:"publicar"===l.seccionActiva}]),onClick:a[7]||(a[7]=o=>c.cambiarSeccion("publicar"))},[...a[34]||(a[34]=[(0,s.Lk)("span",{class:"icono"},"ðŸ“¦",-1),(0,s.Lk)("div",{class:"texto"},[(0,s.Lk)("strong",null,"Publicar productos"),(0,s.Lk)("p",null,"Publica tus productos para que estÃ©n a la venta!")],-1)])],2)])]),(0,s.Lk)("div",Zo,["perfil"===l.seccionActiva?((0,s.uX)(),(0,s.CE)("div",oa,[a[36]||(a[36]=(0,s.Lk)("div",{class:"titulo-seccion-figma"},[(0,s.Lk)("div",{class:"linea-izq"}),(0,s.Lk)("h2",null,"PERFIL"),(0,s.Lk)("div",{class:"linea-der"})],-1)),a[37]||(a[37]=(0,s.Lk)("h3",{class:"subtitulo"},"Actualiza tus datos",-1)),(0,s.Lk)("div",aa,[(0,s.Lk)("div",ea,[(0,s.Lk)("div",ia,[l.usuario.foto?((0,s.uX)(),(0,s.CE)("img",{key:0,src:l.usuario.foto,alt:"Foto de perfil",class:"img-preview"},null,8,sa)):((0,s.uX)(),(0,s.CE)("div",ta,"ðŸ‘¤"))]),(0,s.Lk)("input",{type:"file",ref:"fotoPerfilInput",onChange:a[8]||(a[8]=(...o)=>c.handleFotoPerfilUpload&&c.handleFotoPerfilUpload(...o)),accept:"image/*",style:{display:"none"}},null,544),(0,s.Lk)("button",{class:"btn-actualizar-foto",onClick:a[9]||(a[9]=a=>o.$refs.fotoPerfilInput.click()),type:"button"}," Actualizar foto "),l.usuario.foto!==e(592)?((0,s.uX)(),(0,s.CE)("button",{key:0,class:"btn-quitar-foto",onClick:a[10]||(a[10]=(...o)=>c.quitarFotoPerfil&&c.quitarFotoPerfil(...o)),type:"button"}," Quitar foto ")):(0,s.Q3)("",!0)]),(0,s.Lk)("div",ra,[a[35]||(a[35]=(0,s.Lk)("h3",null,"Actualiza tus datos",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":a[11]||(a[11]=o=>l.usuario.permisos=o),placeholder:"Actualiza tus Permisos",class:"input-perfil"},null,512),[[i.Jo,l.usuario.permisos]]),(0,s.bo)((0,s.Lk)("textarea",{"onUpdate:modelValue":a[12]||(a[12]=o=>l.usuario.descripcion=o),placeholder:"Ingresa tu descripcion",class:"textarea-perfil",rows:"3"},null,512),[[i.Jo,l.usuario.descripcion]]),(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":a[13]||(a[13]=o=>l.usuario.sexo=o),placeholder:"Ingresa tu sexo",class:"input-perfil"},null,512),[[i.Jo,l.usuario.sexo]]),(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":a[14]||(a[14]=o=>l.usuario.nombres=o),placeholder:"Ingresa tus nombres",class:"input-perfil"},null,512),[[i.Jo,l.usuario.nombres]]),(0,s.bo)((0,s.Lk)("input",{type:"number","onUpdate:modelValue":a[15]||(a[15]=o=>l.usuario.edad=o),placeholder:"Ingresa tu edad",class:"input-perfil"},null,512),[[i.Jo,l.usuario.edad]]),(0,s.Lk)("button",{class:"btn-actualizar",onClick:a[16]||(a[16]=(...o)=>c.actualizarPerfil&&c.actualizarPerfil(...o))}," Actualizar ")])])])):(0,s.Q3)("",!0),"productos"===l.seccionActiva?((0,s.uX)(),(0,s.CE)("div",la,[a[38]||(a[38]=(0,s.Lk)("div",{class:"titulo-seccion-figma"},[(0,s.Lk)("div",{class:"linea-izq"}),(0,s.Lk)("h2",null,"Mis Productos"),(0,s.Lk)("div",{class:"linea-der"})],-1)),(0,s.Lk)("div",ca,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.misProductos,o=>((0,s.uX)(),(0,s.CE)("div",{key:o.id,class:"producto-item"},[(0,s.Lk)("img",{src:o.imagen,alt:o.nombre},null,8,na),(0,s.Lk)("div",da,[(0,s.Lk)("h3",null,(0,u.v_)(o.nombre),1),(0,s.Lk)("p",null,(0,u.v_)(o.descripcion),1),(0,s.Lk)("span",ua,"S/"+(0,u.v_)(o.precio)+"Kg",1)]),(0,s.Lk)("div",pa,[(0,s.Lk)("button",{class:"btn-editar",onClick:a=>c.editarProducto(o)},"Editar",8,ka),(0,s.Lk)("button",{class:"btn-eliminar",onClick:a=>c.eliminarProducto(o.id)},"Eliminar",8,ma)])]))),128)),0===l.misProductos.length?((0,s.uX)(),(0,s.CE)("div",va," No tienes productos publicados aÃºn ")):(0,s.Q3)("",!0)])])):(0,s.Q3)("",!0),"historial"===l.seccionActiva?((0,s.uX)(),(0,s.CE)("div",La,[a[39]||(a[39]=(0,s.Lk)("div",{class:"titulo-seccion-figma"},[(0,s.Lk)("div",{class:"linea-izq"}),(0,s.Lk)("h2",null,"Historial de Ventas"),(0,s.Lk)("div",{class:"linea-der"})],-1)),(0,s.Lk)("div",ga,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.historialVentas,o=>((0,s.uX)(),(0,s.CE)("div",{class:"venta-item",key:o.id},[(0,s.Lk)("div",ba,[(0,s.Lk)("span",ha,(0,u.v_)(o.fecha),1),(0,s.Lk)("span",fa,(0,u.v_)(o.producto),1),(0,s.Lk)("span",Ca,(0,u.v_)(o.cantidad)+"Kg",1),(0,s.Lk)("span",Pa,"S/"+(0,u.v_)(o.total),1)]),(0,s.Lk)("span",{class:(0,u.C4)(["estado",o.estado])},(0,u.v_)(o.estado),3)]))),128)),0===l.historialVentas.length?((0,s.uX)(),(0,s.CE)("div",ya," No tienes ventas registradas aÃºn ")):(0,s.Q3)("",!0)])])):(0,s.Q3)("",!0),"resenas"===l.seccionActiva?((0,s.uX)(),(0,s.CE)("div",Ea,[a[40]||(a[40]=(0,s.Lk)("div",{class:"titulo-seccion-figma"},[(0,s.Lk)("div",{class:"linea-izq"}),(0,s.Lk)("h2",null,"ReseÃ±as de Clientes"),(0,s.Lk)("div",{class:"linea-der"})],-1)),(0,s.Lk)("div",xa,[(0,s.Lk)("div",_a,[(0,s.Lk)("span",Xa,(0,u.v_)(c.promedioRating),1),(0,s.Lk)("div",Fa,[((0,s.uX)(),(0,s.CE)(s.FK,null,(0,s.pI)(5,o=>(0,s.Lk)("span",{key:o,class:(0,u.C4)(["estrella-rating",{llena:o<=Math.round(c.promedioRating)}])},(0,u.v_)(o<=Math.round(c.promedioRating)?"â­":"â˜†"),3)),64))]),(0,s.Lk)("span",Ia,(0,u.v_)(c.totalResenas)+" reseÃ±a"+(0,u.v_)(1!==c.totalResenas?"s":""),1)])]),(0,s.Lk)("div",Ma,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.resenas,o=>((0,s.uX)(),(0,s.CE)("div",{key:o.id,class:"resena-item"},[(0,s.Lk)("div",Sa,[(0,s.Lk)("span",Aa,(0,u.v_)(o.cliente),1),(0,s.Lk)("div",wa,[((0,s.uX)(),(0,s.CE)(s.FK,null,(0,s.pI)(5,a=>(0,s.Lk)("span",{key:a,class:(0,u.C4)(["estrella-item",{activa:a<=o.rating}])},(0,u.v_)(a<=o.rating?"â­":"â˜†"),3)),64))])]),(0,s.Lk)("p",za,(0,u.v_)(o.comentario),1),(0,s.Lk)("span",qa,(0,u.v_)(o.fecha),1)]))),128)),0===l.resenas.length?((0,s.uX)(),(0,s.CE)("div",Va," No tienes reseÃ±as todavÃ­a ")):(0,s.Q3)("",!0)])])):(0,s.Q3)("",!0),"pendientes"===l.seccionActiva?((0,s.uX)(),(0,s.CE)("div",ja,[a[53]||(a[53]=(0,s.Lk)("div",{class:"titulo-seccion-figma"},[(0,s.Lk)("div",{class:"linea-izq"}),(0,s.Lk)("h2",null,"Ventas Pendientes"),(0,s.Lk)("div",{class:"linea-der"})],-1)),a[54]||(a[54]=(0,s.Lk)("p",{class:"subtitulo-lista"},"Lista de ventas pendientes a confirmar",-1)),(0,s.Lk)("div",Ua,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.ventasPendientes,o=>((0,s.uX)(),(0,s.CE)("div",{key:o.id},[l.pedidoExpandido?.id!==o.id?((0,s.uX)(),(0,s.CE)("div",{key:0,class:"item-lista-figma",onClick:a=>c.expandirPedido(o)},[a[42]||(a[42]=(0,s.Lk)("div",{class:"avatar-item"},[(0,s.Lk)("div",{class:"icono-avatar"},"ðŸ‘¤")],-1)),(0,s.Lk)("div",Ka,[(0,s.Lk)("h4",null,(0,u.v_)(o.cliente),1),(0,s.Lk)("p",Da,(0,u.v_)(o.producto),1),(0,s.Lk)("p",Qa,"Hace "+(0,u.v_)(o.tiempo),1)]),(0,s.Lk)("div",Ta,[a[41]||(a[41]=(0,s.Lk)("button",{class:"btn-accion"},[(0,s.Lk)("span",{class:"icono-accion"},"â¬‡")],-1)),(0,s.Lk)("img",{src:o.imagenProducto,class:"thumb-producto",alt:"producto"},null,8,Ja)])],8,Na)):((0,s.uX)(),(0,s.CE)("div",Ra,[(0,s.Lk)("div",{class:"header-expandido",onClick:a[17]||(a[17]=(...o)=>c.cerrarPedido&&c.cerrarPedido(...o))},[a[44]||(a[44]=(0,s.Lk)("div",{class:"avatar-item"},[(0,s.Lk)("div",{class:"icono-avatar"},"ðŸ‘¤")],-1)),(0,s.Lk)("div",$a,[(0,s.Lk)("h4",null,(0,u.v_)(o.cliente),1),(0,s.Lk)("p",Oa,(0,u.v_)(o.producto),1),(0,s.Lk)("p",Ba,"Hace "+(0,u.v_)(o.tiempo),1)]),(0,s.Lk)("div",Wa,[a[43]||(a[43]=(0,s.Lk)("button",{class:"btn-accion"},[(0,s.Lk)("span",{class:"icono-accion"},"â¬†")],-1)),(0,s.Lk)("img",{src:o.imagenProducto,class:"thumb-producto",alt:"producto"},null,8,Ha)])]),(0,s.Lk)("div",Ga,[(0,s.Lk)("div",Ya,[(0,s.Lk)("div",Za,[(0,s.Lk)("div",oe,[a[45]||(a[45]=(0,s.Lk)("span",{class:"label-detalle"},"ðŸ“§ Email",-1)),(0,s.Lk)("span",ae,(0,u.v_)(o.email),1)]),(0,s.Lk)("div",ee,[a[46]||(a[46]=(0,s.Lk)("span",{class:"label-detalle"},"ðŸ“± Telefono",-1)),(0,s.Lk)("span",ie,(0,u.v_)(o.telefono),1)]),(0,s.Lk)("div",se,[a[47]||(a[47]=(0,s.Lk)("span",{class:"label-detalle"},"ðŸ“¦ Producto",-1)),(0,s.Lk)("span",te,(0,u.v_)(o.producto),1)]),(0,s.Lk)("div",re,[a[48]||(a[48]=(0,s.Lk)("span",{class:"label-detalle"},"âš–ï¸ Cantidad",-1)),(0,s.Lk)("span",le,(0,u.v_)(o.cantidad),1)]),(0,s.Lk)("div",ce,[a[49]||(a[49]=(0,s.Lk)("span",{class:"label-detalle"},"ðŸ’° Total a pagar",-1)),(0,s.Lk)("span",ne,"S/ "+(0,u.v_)(o.total),1)])]),(0,s.Lk)("div",de,[(0,s.Lk)("div",ue,[(0,s.Lk)("img",{src:o.imagenProducto,alt:"Producto"},null,8,pe)]),(0,s.Lk)("div",ke,[(0,s.Lk)("button",{class:"btn-confirmar-venta",onClick:a=>c.confirmarVenta(o.id)},[...a[50]||(a[50]=[(0,s.Lk)("span",{class:"icono-btn"},"âœ“",-1),(0,s.eW)(" Confirmar Venta ",-1)])],8,me),(0,s.Lk)("button",{class:"btn-cancelar-venta",onClick:a=>c.cancelarVenta(o.id)},[...a[51]||(a[51]=[(0,s.Lk)("span",{class:"icono-btn"},"âœ•",-1),(0,s.eW)(" Cancelar Pedido ",-1)])],8,ve)]),(0,s.Lk)("div",Le,[a[52]||(a[52]=(0,s.Lk)("span",{class:"icono-reloj"},"ðŸ•",-1)),(0,s.eW)(" Solicitado hace "+(0,u.v_)(o.tiempo),1)])])])])]))]))),128)),0===l.ventasPendientes.length?((0,s.uX)(),(0,s.CE)("div",ge," No tienes ventas pendientes ")):(0,s.Q3)("",!0)])])):(0,s.Q3)("",!0),"publicar"===l.seccionActiva?((0,s.uX)(),(0,s.CE)("div",be,[a[65]||(a[65]=(0,s.Lk)("div",{class:"titulo-seccion-figma"},[(0,s.Lk)("div",{class:"linea-izq"}),(0,s.Lk)("h2",null,"Publicar Producto"),(0,s.Lk)("div",{class:"linea-der"})],-1)),(0,s.Lk)("div",he,[(0,s.Lk)("div",fe,[(0,s.Lk)("div",Ce,[a[55]||(a[55]=(0,s.Lk)("label",null,"Nombre del producto",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":a[18]||(a[18]=o=>l.nuevoProducto.nombre=o),placeholder:"Ej: Mangos dulces",class:"input-figma"},null,512),[[i.Jo,l.nuevoProducto.nombre]])]),(0,s.Lk)("div",Pe,[a[56]||(a[56]=(0,s.Lk)("label",null,"Descripcion corta",-1)),(0,s.bo)((0,s.Lk)("textarea",{"onUpdate:modelValue":a[19]||(a[19]=o=>l.nuevoProducto.descripcion=o),placeholder:"Describe brevemente tu producto...",class:"textarea-figma",rows:"3"},null,512),[[i.Jo,l.nuevoProducto.descripcion]])]),(0,s.Lk)("div",ye,[a[57]||(a[57]=(0,s.Lk)("label",null,"Descripcion detallada",-1)),(0,s.bo)((0,s.Lk)("textarea",{"onUpdate:modelValue":a[20]||(a[20]=o=>l.nuevoProducto.descripcionLarga=o),placeholder:"Cuenta mas sobre tu producto, como lo cultivas, etc...",class:"textarea-figma",rows:"4"},null,512),[[i.Jo,l.nuevoProducto.descripcionLarga]])]),(0,s.Lk)("div",Ee,[(0,s.Lk)("div",xe,[a[58]||(a[58]=(0,s.Lk)("label",null,"Precio (S/ por Kg)",-1)),(0,s.bo)((0,s.Lk)("input",{type:"number","onUpdate:modelValue":a[21]||(a[21]=o=>l.nuevoProducto.precio=o),placeholder:"7.50",step:"0.1",class:"input-figma"},null,512),[[i.Jo,l.nuevoProducto.precio,void 0,{number:!0}]])]),(0,s.Lk)("div",_e,[a[59]||(a[59]=(0,s.Lk)("label",null,"Stock disponible (Kg)",-1)),(0,s.bo)((0,s.Lk)("input",{type:"number","onUpdate:modelValue":a[22]||(a[22]=o=>l.nuevoProducto.stock=o),placeholder:"50",class:"input-figma"},null,512),[[i.Jo,l.nuevoProducto.stock,void 0,{number:!0}]])])]),(0,s.Lk)("div",Xe,[a[61]||(a[61]=(0,s.Lk)("label",null,"Categoria",-1)),(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":a[23]||(a[23]=o=>l.nuevoProducto.categoria=o),class:"select-figma"},[...a[60]||(a[60]=[(0,s.Fv)('<option value="" data-v-a9ebc06e>Selecciona una categoria</option><option value="Tuberculos" data-v-a9ebc06e>Tuberculos</option><option value="Frutas" data-v-a9ebc06e>Frutas</option><option value="Verduras" data-v-a9ebc06e>Verduras</option><option value="Citricos" data-v-a9ebc06e>Citricos</option>',5)])],512),[[i.u1,l.nuevoProducto.categoria]])])]),(0,s.Lk)("div",Fe,[(0,s.Lk)("div",Ie,[a[63]||(a[63]=(0,s.Lk)("label",null,"Imagen del producto",-1)),(0,s.Lk)("div",Me,[l.imagenPreview?((0,s.uX)(),(0,s.CE)("img",{key:0,src:l.imagenPreview,alt:"Preview"},null,8,Se)):((0,s.uX)(),(0,s.CE)("div",Ae,[...a[62]||(a[62]=[(0,s.Lk)("span",{class:"icono-placeholder"},"ðŸ–¼ï¸",-1),(0,s.Lk)("p",null,"Vista previa de la imagen",-1)])]))]),(0,s.Lk)("input",{type:"file",ref:"imagenInput",onChange:a[24]||(a[24]=(...o)=>c.handleImagenUpload&&c.handleImagenUpload(...o)),accept:"image/*",style:{display:"none"}},null,544),(0,s.Lk)("button",{class:"btn-subir-imagen",onClick:a[25]||(a[25]=a=>o.$refs.imagenInput.click()),type:"button"}," ðŸ“ Subir imagen "),l.nuevoProducto.imagenNombre?((0,s.uX)(),(0,s.CE)("div",we,[(0,s.Lk)("span",ze,(0,u.v_)(l.nuevoProducto.imagenNombre),1),(0,s.Lk)("button",{class:"btn-quitar-imagen",onClick:a[26]||(a[26]=(...o)=>c.quitarImagen&&c.quitarImagen(...o)),type:"button"},"Ã—")])):(0,s.Q3)("",!0),a[64]||(a[64]=(0,s.Lk)("p",{class:"ayuda-upload"}," Sube una imagen clara de tu producto. Formatos aceptados: JPG, PNG. TamaÃ±o mÃ¡ximo: 5MB. ",-1))])])]),(0,s.Lk)("div",qe,[(0,s.Lk)("button",{class:"btn-cancelar-figma",onClick:a[27]||(a[27]=(...o)=>c.cancelarPublicacion&&c.cancelarPublicacion(...o))}," Cancelar "),(0,s.Lk)("button",{class:"btn-publicar-figma",onClick:a[28]||(a[28]=(...o)=>c.publicarProducto&&c.publicarProducto(...o))}," Publicar Producto ")])])):(0,s.Q3)("",!0)])])])}const je={name:"PerfilPage",data(){return{seccionActiva:"productos",pedidoExpandido:null,imagenPreview:null,usuario:{foto:e(592),permisos:"Agricultor",descripcion:"Agricultor de tercera generacion dedicado a producir alimentos frescos y organicos",sexo:"Masculino",nombres:"Luis Mendoza",edad:45},misProductos:[{id:1,nombre:"Mangos dulces",descripcion:"Mangos frescos y jugosos de la mejor calidad",imagen:e(357),precio:7,stock:20},{id:2,nombre:"Papas premium",descripcion:"Papas frescas de excelente calidad",imagen:e(84),precio:7.2,stock:25},{id:3,nombre:"Naranjas jugosas",descripcion:"Naranjas frescas llenas de sabor",imagen:e(247),precio:4.8,stock:28}],historialVentas:[{id:1,fecha:"20/11/2024",producto:"Mangos dulces",cantidad:10,total:70,estado:"Completada"},{id:2,fecha:"18/11/2024",producto:"Papas premium",cantidad:15,total:108,estado:"Completada"},{id:3,fecha:"15/11/2024",producto:"Naranjas jugosas",cantidad:20,total:96,estado:"Completada"}],resenas:[{id:1,cliente:"Maria Garcia",rating:5,comentario:"Excelente calidad de productos, muy frescos y deliciosos. Totalmente recomendado!",fecha:"19/11/2024"},{id:2,cliente:"Carlos Rodriguez",rating:4,comentario:"Buenos productos, la entrega fue rapida y todo llego en perfecto estado.",fecha:"17/11/2024"},{id:3,cliente:"Ana Martinez",rating:5,comentario:"Los mangos estaban deliciosos! Definitivamente volvere a comprar.",fecha:"14/11/2024"}],ventasPendientes:[{id:1,cliente:"Pedro Sanchez",producto:"Mangos dulces",tiempo:"2 horas",email:"pedro.sanchez@email.com",telefono:"+51 999 888 777",cantidad:"8 Kg",total:"56.00",imagenProducto:e(357)},{id:2,cliente:"Laura Torres",producto:"Papas premium",tiempo:"5 horas",email:"laura.torres@email.com",telefono:"+51 987 654 321",cantidad:"12 Kg",total:"86.40",imagenProducto:e(84)}],nuevoProducto:{nombre:"",descripcion:"",descripcionLarga:"",precio:null,stock:null,categoria:"",imagen:null,imagenNombre:""}}},computed:{promedioRating(){if(0===this.resenas.length)return 0;const o=this.resenas.reduce((o,a)=>o+a.rating,0);return(o/this.resenas.length).toFixed(1)},totalResenas(){return this.resenas.length}},methods:{cambiarSeccion(o){this.seccionActiva=o,this.pedidoExpandido=null},expandirPedido(o){this.pedidoExpandido=o},cerrarPedido(){this.pedidoExpandido=null},confirmarVenta(o){const a=this.ventasPendientes.findIndex(a=>a.id===o);if(-1!==a){const o=this.ventasPendientes[a];this.historialVentas.unshift({id:Date.now(),fecha:(new Date).toLocaleDateString("es-PE"),producto:o.producto,cantidad:parseInt(o.cantidad),total:parseFloat(o.total),estado:"Completada"}),this.ventasPendientes.splice(a,1),this.pedidoExpandido=null,alert("Â¡Venta confirmada exitosamente!")}},cancelarVenta(o){if(confirm("Â¿Estas seguro de cancelar este pedido?")){const a=this.ventasPendientes.findIndex(a=>a.id===o);-1!==a&&(this.ventasPendientes.splice(a,1),this.pedidoExpandido=null,alert("Pedido cancelado"))}},handleFotoPerfilUpload(o){const a=o.target.files[0];if(a){const o=new FileReader;o.onload=o=>{this.usuario.foto=o.target.result},o.readAsDataURL(a)}},quitarFotoPerfil(){this.usuario.foto=e(592)},actualizarPerfil(){alert("Perfil actualizado correctamente")},editarProducto(o){alert(`Editar producto: ${o.nombre}`)},eliminarProducto(o){if(confirm("Â¿Estas seguro de eliminar este producto?")){const a=this.misProductos.findIndex(a=>a.id===o);-1!==a&&(this.misProductos.splice(a,1),alert("Producto eliminado"))}},handleImagenUpload(o){const a=o.target.files[0];if(a){this.nuevoProducto.imagenNombre=a.name;const o=new FileReader;o.onload=o=>{this.imagenPreview=o.target.result,this.nuevoProducto.imagen=o.target.result},o.readAsDataURL(a)}},quitarImagen(){this.imagenPreview=null,this.nuevoProducto.imagen=null,this.nuevoProducto.imagenNombre="",this.$refs.imagenInput.value=""},publicarProducto(){if(!this.nuevoProducto.nombre||!this.nuevoProducto.descripcion||!this.nuevoProducto.precio||!this.nuevoProducto.stock||!this.nuevoProducto.categoria||!this.nuevoProducto.imagen)return void alert("Por favor completa todos los campos");const o={id:Date.now(),nombre:this.nuevoProducto.nombre,descripcion:this.nuevoProducto.descripcion,imagen:this.nuevoProducto.imagen,precio:this.nuevoProducto.precio,stock:this.nuevoProducto.stock};this.misProductos.unshift(o),alert("Â¡Producto publicado exitosamente!"),this.cancelarPublicacion(),this.cambiarSeccion("productos")},cancelarPublicacion(){this.nuevoProducto={nombre:"",descripcion:"",descripcionLarga:"",precio:null,stock:null,categoria:"",imagen:null,imagenNombre:""},this.imagenPreview=null,this.$refs.imagenInput&&(this.$refs.imagenInput.value="")},salir(){this.$router.push("/login")}}},Ue=(0,l.A)(je,[["render",Ve],["__scopeId","data-v-a9ebc06e"]]),Ne=Ue,Ke={class:"perfil-comprador-page"},De={class:"navbar"},Qe={class:"contenido"},Te={class:"sidebar"},Je=["src"],Re={class:"menu-opciones"},$e={class:"contenido-principal"},Oe={key:0,class:"seccion"},Be={class:"formulario-perfil"},We={class:"foto-actualizar"},He={class:"foto-perfil-preview"},Ge=["src"],Ye={key:1,class:"icono-usuario"},Ze={class:"campos-perfil"},oi={class:"campo"},ai={class:"campo"},ei={class:"campo"},ii={class:"campo"},si={key:1,class:"seccion"},ti={class:"lista-compras"},ri={class:"compra-imagen"},li=["src","alt"],ci={class:"compra-info"},ni={class:"agricultor"},di={class:"compra-detalles"},ui={class:"cantidad"},pi={class:"fecha"},ki={class:"compra-monto"},mi={class:"total"},vi={key:0,class:"sin-datos"},Li={key:2,class:"seccion"},gi={class:"lista-pendientes"},bi={class:"pedido-imagen"},hi=["src","alt"],fi={class:"pedido-info"},Ci={class:"agricultor"},Pi={class:"tiempo"},yi={class:"pedido-acciones"},Ei={class:"total"},xi=["onClick"],_i={key:0,class:"sin-datos"},Xi={key:3,class:"seccion"},Fi={class:"lista-favoritos"},Ii={class:"favorito-imagen"},Mi=["src","alt"],Si=["onClick"],Ai={class:"favorito-info"},wi={class:"descripcion"},zi={class:"favorito-detalles"},qi={class:"precio"},Vi={class:"stock"},ji={class:"favorito-acciones"},Ui=["onClick"],Ni={key:0,class:"sin-datos"};function Ki(o,a,e,t,r,l){return(0,s.uX)(),(0,s.CE)("div",Ke,[(0,s.Lk)("div",De,[(0,s.Lk)("div",{class:"logo",onClick:a[0]||(a[0]=a=>o.$router.push("/productos"))},[...a[14]||(a[14]=[(0,s.Lk)("img",{src:"https://cdn-icons-png.flaticon.com/512/628/628283.png",alt:"Logo"},null,-1)])]),(0,s.Lk)("button",{class:"btn-salir",onClick:a[1]||(a[1]=(...o)=>l.salir&&l.salir(...o))},"Salir")]),(0,s.Lk)("div",Qe,[(0,s.Lk)("div",Te,[(0,s.Lk)("div",{class:"foto-perfil-container",onClick:a[2]||(a[2]=o=>l.cambiarSeccion("perfil"))},[(0,s.Lk)("img",{src:r.usuario.foto,alt:"Perfil",class:"foto-perfil"},null,8,Je)]),(0,s.Lk)("div",Re,[(0,s.Lk)("div",{class:(0,u.C4)(["opcion",{activo:"perfil"===r.seccionActiva}]),onClick:a[3]||(a[3]=o=>l.cambiarSeccion("perfil"))},[...a[15]||(a[15]=[(0,s.Lk)("span",{class:"icono"},"ðŸ‘¤",-1),(0,s.Lk)("div",{class:"texto"},[(0,s.Lk)("strong",null,"Mi Perfil"),(0,s.Lk)("p",null,"Actualiza tus datos personales")],-1)])],2),(0,s.Lk)("div",{class:(0,u.C4)(["opcion",{activo:"compras"===r.seccionActiva}]),onClick:a[4]||(a[4]=o=>l.cambiarSeccion("compras"))},[...a[16]||(a[16]=[(0,s.Lk)("span",{class:"icono"},"ðŸ›’",-1),(0,s.Lk)("div",{class:"texto"},[(0,s.Lk)("strong",null,"Mis Compras"),(0,s.Lk)("p",null,"Historial de pedidos")],-1)])],2),(0,s.Lk)("div",{class:(0,u.C4)(["opcion",{activo:"pendientes"===r.seccionActiva}]),onClick:a[5]||(a[5]=o=>l.cambiarSeccion("pendientes"))},[...a[17]||(a[17]=[(0,s.Lk)("span",{class:"icono"},"ðŸ•",-1),(0,s.Lk)("div",{class:"texto"},[(0,s.Lk)("strong",null,"Pedidos Pendientes"),(0,s.Lk)("p",null,"Compras en proceso")],-1)])],2),(0,s.Lk)("div",{class:(0,u.C4)(["opcion",{activo:"favoritos"===r.seccionActiva}]),onClick:a[6]||(a[6]=o=>l.cambiarSeccion("favoritos"))},[...a[18]||(a[18]=[(0,s.Lk)("span",{class:"icono"},"â¤ï¸",-1),(0,s.Lk)("div",{class:"texto"},[(0,s.Lk)("strong",null,"Favoritos"),(0,s.Lk)("p",null,"Productos guardados")],-1)])],2)])]),(0,s.Lk)("div",$e,["perfil"===r.seccionActiva?((0,s.uX)(),(0,s.CE)("div",Oe,[a[24]||(a[24]=(0,s.Lk)("div",{class:"titulo-seccion"},[(0,s.Lk)("div",{class:"linea-izq"}),(0,s.Lk)("h2",null,"MI PERFIL"),(0,s.Lk)("div",{class:"linea-der"})],-1)),(0,s.Lk)("div",Be,[(0,s.Lk)("div",We,[(0,s.Lk)("div",He,[r.usuario.foto?((0,s.uX)(),(0,s.CE)("img",{key:0,src:r.usuario.foto,alt:"Foto de perfil",class:"img-preview"},null,8,Ge)):((0,s.uX)(),(0,s.CE)("div",Ye,"ðŸ‘¤"))]),(0,s.Lk)("input",{type:"file",ref:"fotoPerfilInput",onChange:a[7]||(a[7]=(...o)=>l.handleFotoPerfilUpload&&l.handleFotoPerfilUpload(...o)),accept:"image/*",style:{display:"none"}},null,544),(0,s.Lk)("button",{class:"btn-actualizar-foto",onClick:a[8]||(a[8]=a=>o.$refs.fotoPerfilInput.click())}," Actualizar foto ")]),(0,s.Lk)("div",Ze,[a[23]||(a[23]=(0,s.Lk)("h3",null,"InformaciÃ³n Personal",-1)),(0,s.Lk)("div",oi,[a[19]||(a[19]=(0,s.Lk)("label",null,"Nombre Completo",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":a[9]||(a[9]=o=>r.usuario.nombre=o),placeholder:"Ingresa tu nombre completo",class:"input-perfil"},null,512),[[i.Jo,r.usuario.nombre]])]),(0,s.Lk)("div",ai,[a[20]||(a[20]=(0,s.Lk)("label",null,"Email",-1)),(0,s.bo)((0,s.Lk)("input",{type:"email","onUpdate:modelValue":a[10]||(a[10]=o=>r.usuario.email=o),placeholder:"tu@email.com",class:"input-perfil"},null,512),[[i.Jo,r.usuario.email]])]),(0,s.Lk)("div",ei,[a[21]||(a[21]=(0,s.Lk)("label",null,"TelÃ©fono",-1)),(0,s.bo)((0,s.Lk)("input",{type:"tel","onUpdate:modelValue":a[11]||(a[11]=o=>r.usuario.telefono=o),placeholder:"+51 999 888 777",class:"input-perfil"},null,512),[[i.Jo,r.usuario.telefono]])]),(0,s.Lk)("div",ii,[a[22]||(a[22]=(0,s.Lk)("label",null,"DirecciÃ³n de Entrega",-1)),(0,s.bo)((0,s.Lk)("textarea",{"onUpdate:modelValue":a[12]||(a[12]=o=>r.usuario.direccion=o),placeholder:"Ingresa tu direcciÃ³n completa",class:"textarea-perfil",rows:"2"},null,512),[[i.Jo,r.usuario.direccion]])]),(0,s.Lk)("button",{class:"btn-actualizar",onClick:a[13]||(a[13]=(...o)=>l.actualizarPerfil&&l.actualizarPerfil(...o))}," Guardar Cambios ")])])])):(0,s.Q3)("",!0),"compras"===r.seccionActiva?((0,s.uX)(),(0,s.CE)("div",si,[a[25]||(a[25]=(0,s.Lk)("div",{class:"titulo-seccion"},[(0,s.Lk)("div",{class:"linea-izq"}),(0,s.Lk)("h2",null,"MIS COMPRAS"),(0,s.Lk)("div",{class:"linea-der"})],-1)),(0,s.Lk)("div",ti,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.historialCompras,o=>((0,s.uX)(),(0,s.CE)("div",{key:o.id,class:"compra-item"},[(0,s.Lk)("div",ri,[(0,s.Lk)("img",{src:o.imagen,alt:o.producto},null,8,li)]),(0,s.Lk)("div",ci,[(0,s.Lk)("h4",null,(0,u.v_)(o.producto),1),(0,s.Lk)("p",ni,"Vendedor: "+(0,u.v_)(o.agricultor),1),(0,s.Lk)("div",di,[(0,s.Lk)("span",ui,(0,u.v_)(o.cantidad),1),(0,s.Lk)("span",pi,(0,u.v_)(o.fecha),1)])]),(0,s.Lk)("div",ki,[(0,s.Lk)("span",mi,"S/ "+(0,u.v_)(o.total),1),(0,s.Lk)("span",{class:(0,u.C4)(["estado",o.estado.toLowerCase()])},(0,u.v_)(o.estado),3)])]))),128)),0===r.historialCompras.length?((0,s.uX)(),(0,s.CE)("div",vi," No tienes compras realizadas aÃºn ")):(0,s.Q3)("",!0)])])):(0,s.Q3)("",!0),"pendientes"===r.seccionActiva?((0,s.uX)(),(0,s.CE)("div",Li,[a[27]||(a[27]=(0,s.Lk)("div",{class:"titulo-seccion"},[(0,s.Lk)("div",{class:"linea-izq"}),(0,s.Lk)("h2",null,"PEDIDOS PENDIENTES"),(0,s.Lk)("div",{class:"linea-der"})],-1)),(0,s.Lk)("div",gi,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.pedidosPendientes,o=>((0,s.uX)(),(0,s.CE)("div",{key:o.id,class:"pedido-item"},[(0,s.Lk)("div",bi,[(0,s.Lk)("img",{src:o.imagen,alt:o.producto},null,8,hi)]),(0,s.Lk)("div",fi,[(0,s.Lk)("h4",null,(0,u.v_)(o.producto),1),(0,s.Lk)("p",Ci,"Vendedor: "+(0,u.v_)(o.agricultor),1),(0,s.Lk)("p",Pi,"Solicitado hace "+(0,u.v_)(o.tiempo),1)]),(0,s.Lk)("div",yi,[(0,s.Lk)("span",Ei,"S/ "+(0,u.v_)(o.total),1),a[26]||(a[26]=(0,s.Lk)("span",{class:"estado-pendiente"},"En espera",-1)),(0,s.Lk)("button",{class:"btn-cancelar",onClick:a=>l.cancelarPedido(o.id)}," Cancelar ",8,xi)])]))),128)),0===r.pedidosPendientes.length?((0,s.uX)(),(0,s.CE)("div",_i," No tienes pedidos pendientes ")):(0,s.Q3)("",!0)])])):(0,s.Q3)("",!0),"favoritos"===r.seccionActiva?((0,s.uX)(),(0,s.CE)("div",Xi,[a[28]||(a[28]=(0,s.Lk)("div",{class:"titulo-seccion"},[(0,s.Lk)("div",{class:"linea-izq"}),(0,s.Lk)("h2",null,"MIS FAVORITOS"),(0,s.Lk)("div",{class:"linea-der"})],-1)),(0,s.Lk)("div",Fi,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.productosFavoritos,o=>((0,s.uX)(),(0,s.CE)("div",{key:o.id,class:"favorito-item"},[(0,s.Lk)("div",Ii,[(0,s.Lk)("img",{src:o.imagen,alt:o.nombre},null,8,Mi),(0,s.Lk)("button",{class:"btn-quitar-favorito",onClick:a=>l.quitarFavorito(o.id)}," âŒ ",8,Si)]),(0,s.Lk)("div",Ai,[(0,s.Lk)("h4",null,(0,u.v_)(o.nombre),1),(0,s.Lk)("p",wi,(0,u.v_)(o.descripcion),1),(0,s.Lk)("div",zi,[(0,s.Lk)("span",qi,"S/ "+(0,u.v_)(o.precio)+"/Kg",1),(0,s.Lk)("span",Vi,"Stock: "+(0,u.v_)(o.stock)+" Kg",1)])]),(0,s.Lk)("div",ji,[(0,s.Lk)("button",{class:"btn-comprar",onClick:a=>l.irAComprar(o)}," Comprar ",8,Ui)])]))),128)),0===r.productosFavoritos.length?((0,s.uX)(),(0,s.CE)("div",Ni," No tienes productos favoritos guardados ")):(0,s.Q3)("",!0)])])):(0,s.Q3)("",!0)])])])}const Di={name:"PerfilCompradorPage",data(){return{seccionActiva:"perfil",usuario:{foto:e(592),nombre:"MarÃ­a GarcÃ­a",email:"maria.garcia@email.com",telefono:"+51 987 654 321",direccion:"Av. Larco 1234, Miraflores, Lima"},historialCompras:[{id:1,producto:"Mangos dulces",agricultor:"Luis Mendoza",cantidad:"5 Kg",fecha:"20/11/2024",total:"35.00",estado:"Entregado",imagen:e(357)},{id:2,producto:"Papas premium",agricultor:"Luis Mendoza",cantidad:"10 Kg",fecha:"18/11/2024",total:"72.00",estado:"Entregado",imagen:e(84)},{id:3,producto:"Tomates orgÃ¡nicos",agricultor:"MarÃ­a Torres",cantidad:"8 Kg",fecha:"15/11/2024",total:"41.60",estado:"Entregado",imagen:e(576)}],pedidosPendientes:[{id:1,producto:"Lechuga fresca",agricultor:"MarÃ­a Torres",tiempo:"3 horas",total:"17.50",imagen:e(982)}],productosFavoritos:[{id:1,nombre:"Mangos dulces",descripcion:"Mangos frescos y jugosos",precio:7,stock:20,imagen:e(357)},{id:2,nombre:"Limones frescos",descripcion:"Limones Ã¡cidos y aromÃ¡ticos",precio:4,stock:40,imagen:e(850)}]}},methods:{cambiarSeccion(o){this.seccionActiva=o},handleFotoPerfilUpload(o){const a=o.target.files[0];if(a){const o=new FileReader;o.onload=o=>{this.usuario.foto=o.target.result},o.readAsDataURL(a)}},actualizarPerfil(){alert("Perfil actualizado correctamente")},cancelarPedido(o){if(confirm("Â¿EstÃ¡s seguro de cancelar este pedido?")){const a=this.pedidosPendientes.findIndex(a=>a.id===o);-1!==a&&(this.pedidosPendientes.splice(a,1),alert("Pedido cancelado exitosamente"))}},quitarFavorito(o){const a=this.productosFavoritos.findIndex(a=>a.id===o);-1!==a&&this.productosFavoritos.splice(a,1)},irAComprar(o){this.$router.push({name:"Compra",params:{productoId:o.id}})},salir(){this.$router.push("/login")}}},Qi=(0,l.A)(Di,[["render",Ki],["__scopeId","data-v-aa1280ea"]]),Ti=Qi,Ji={class:"compra-page"},Ri={class:"navbar"},$i={class:"contenido"},Oi={class:"progreso-compra"},Bi={class:"circulo"},Wi={key:0},Hi={key:1},Gi={class:"circulo"},Yi={key:0},Zi={key:1},os={class:"circulo"},as={key:0},es={key:1},is={class:"contenedor-compra"},ss={key:0,class:"paso-contenido"},ts={class:"producto-seleccionado"},rs={class:"producto-imagen-grande"},ls=["src","alt"],cs={class:"producto-datos"},ns={class:"descripcion"},ds={class:"agricultor-card"},us=["src"],ps={class:"agricultor-info"},ks={class:"rating"},ms={class:"precio-unitario"},vs={class:"valor"},Ls={class:"stock-disponible"},gs={class:"valor"},bs={class:"selector-cantidad"},hs={class:"cantidad-controles"},fs=["disabled"],Cs=["max"],Ps=["disabled"],ys={class:"total-parcial"},Es={class:"monto"},xs={key:1,class:"paso-contenido"},_s={class:"formulario-entrega"},Xs={class:"campo"},Fs={class:"campos-fila"},Is={class:"campo"},Ms={class:"campo"},Ss={class:"campo"},As={class:"campos-fila"},ws={class:"campo"},zs={class:"campo"},qs={class:"campo"},Vs={class:"botones-navegacion"},js={key:2,class:"paso-contenido"},Us={class:"resumen-compra"},Ns={class:"seccion-resumen"},Ks={class:"producto-resumen"},Ds=["src","alt"],Qs={class:"seccion-resumen"},Ts={class:"datos-entrega"},Js={key:0},Rs={class:"seccion-resumen total-section"},$s={class:"desglose-pago"},Os={class:"linea-pago"},Bs={class:"linea-pago"},Ws={class:"linea-pago total"},Hs={class:"metodo-pago"},Gs={class:"opciones-pago"},Ys={class:"botones-navegacion"},Zs={class:"info-pedido"};function ot(o,a,e,t,r,l){return(0,s.uX)(),(0,s.CE)("div",Ji,[(0,s.Lk)("div",Ri,[(0,s.Lk)("div",{class:"logo",onClick:a[0]||(a[0]=a=>o.$router.push("/productos"))},[...a[24]||(a[24]=[(0,s.Lk)("img",{src:"https://cdn-icons-png.flaticon.com/512/628/628283.png",alt:"Logo"},null,-1)])]),(0,s.Lk)("button",{class:"btn-volver",onClick:a[1]||(a[1]=(...o)=>l.volver&&l.volver(...o))}," â† Volver ")]),(0,s.Lk)("div",$i,[(0,s.Lk)("div",Oi,[(0,s.Lk)("div",{class:(0,u.C4)(["paso",{activo:r.paso>=1,completado:r.paso>1}])},[(0,s.Lk)("div",Bi,[r.paso>1?((0,s.uX)(),(0,s.CE)("span",Wi,"âœ“")):((0,s.uX)(),(0,s.CE)("span",Hi,"1"))]),a[25]||(a[25]=(0,s.Lk)("span",{class:"texto"},"Detalles",-1))],2),(0,s.Lk)("div",{class:(0,u.C4)(["linea",{activo:r.paso>=2}])},null,2),(0,s.Lk)("div",{class:(0,u.C4)(["paso",{activo:r.paso>=2,completado:r.paso>2}])},[(0,s.Lk)("div",Gi,[r.paso>2?((0,s.uX)(),(0,s.CE)("span",Yi,"âœ“")):((0,s.uX)(),(0,s.CE)("span",Zi,"2"))]),a[26]||(a[26]=(0,s.Lk)("span",{class:"texto"},"Entrega",-1))],2),(0,s.Lk)("div",{class:(0,u.C4)(["linea",{activo:r.paso>=3}])},null,2),(0,s.Lk)("div",{class:(0,u.C4)(["paso",{activo:r.paso>=3,completado:r.paso>3}])},[(0,s.Lk)("div",os,[r.paso>3?((0,s.uX)(),(0,s.CE)("span",as,"âœ“")):((0,s.uX)(),(0,s.CE)("span",es,"3"))]),a[27]||(a[27]=(0,s.Lk)("span",{class:"texto"},"ConfirmaciÃ³n",-1))],2)]),(0,s.Lk)("div",is,[1===r.paso?((0,s.uX)(),(0,s.CE)("div",ss,[a[33]||(a[33]=(0,s.Lk)("h2",null,"Detalles de tu Pedido",-1)),(0,s.Lk)("div",ts,[(0,s.Lk)("div",rs,[(0,s.Lk)("img",{src:r.producto.imagen,alt:r.producto.nombre},null,8,ls)]),(0,s.Lk)("div",cs,[(0,s.Lk)("h3",null,(0,u.v_)(r.producto.nombre),1),(0,s.Lk)("p",ns,(0,u.v_)(r.producto.descripcion),1),(0,s.Lk)("div",ds,[(0,s.Lk)("img",{src:r.producto.agricultorImagen,alt:"Agricultor",class:"agricultor-foto"},null,8,us),(0,s.Lk)("div",ps,[(0,s.Lk)("strong",null,(0,u.v_)(r.producto.agricultorNombre),1),(0,s.Lk)("div",ks,[(0,s.Lk)("span",null,(0,u.v_)(r.producto.rating),1),a[28]||(a[28]=(0,s.Lk)("span",null,"â­",-1))])])]),(0,s.Lk)("div",ms,[a[29]||(a[29]=(0,s.Lk)("span",{class:"label"},"Precio por Kg:",-1)),(0,s.Lk)("span",vs,"S/ "+(0,u.v_)(r.producto.precio),1)]),(0,s.Lk)("div",Ls,[a[30]||(a[30]=(0,s.Lk)("span",{class:"label"},"Stock disponible:",-1)),(0,s.Lk)("span",gs,(0,u.v_)(r.producto.stock)+" Kg",1)]),(0,s.Lk)("div",bs,[a[31]||(a[31]=(0,s.Lk)("label",null,"Cantidad a comprar (Kg):",-1)),(0,s.Lk)("div",hs,[(0,s.Lk)("button",{onClick:a[2]||(a[2]=(...o)=>l.disminuirCantidad&&l.disminuirCantidad(...o)),disabled:r.pedido.cantidad<=1},"-",8,fs),(0,s.bo)((0,s.Lk)("input",{type:"number","onUpdate:modelValue":a[3]||(a[3]=o=>r.pedido.cantidad=o),min:"1",max:r.producto.stock,onInput:a[4]||(a[4]=(...o)=>l.validarCantidad&&l.validarCantidad(...o))},null,40,Cs),[[i.Jo,r.pedido.cantidad,void 0,{number:!0}]]),(0,s.Lk)("button",{onClick:a[5]||(a[5]=(...o)=>l.aumentarCantidad&&l.aumentarCantidad(...o)),disabled:r.pedido.cantidad>=r.producto.stock},"+",8,Ps)])]),(0,s.Lk)("div",ys,[a[32]||(a[32]=(0,s.Lk)("span",null,"Subtotal:",-1)),(0,s.Lk)("span",Es,"S/ "+(0,u.v_)(l.subtotal.toFixed(2)),1)])])]),(0,s.Lk)("button",{class:"btn-siguiente",onClick:a[6]||(a[6]=(...o)=>l.siguientePaso&&l.siguientePaso(...o))}," Continuar â†’ ")])):(0,s.Q3)("",!0),2===r.paso?((0,s.uX)(),(0,s.CE)("div",xs,[a[41]||(a[41]=(0,s.Lk)("h2",null,"InformaciÃ³n de Entrega",-1)),(0,s.Lk)("div",_s,[(0,s.Lk)("div",Xs,[a[34]||(a[34]=(0,s.Lk)("label",null,"Nombre Completo *",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":a[7]||(a[7]=o=>r.pedido.nombreCompleto=o),placeholder:"Juan PÃ©rez GarcÃ­a",class:"input-form"},null,512),[[i.Jo,r.pedido.nombreCompleto]])]),(0,s.Lk)("div",Fs,[(0,s.Lk)("div",Is,[a[35]||(a[35]=(0,s.Lk)("label",null,"Email *",-1)),(0,s.bo)((0,s.Lk)("input",{type:"email","onUpdate:modelValue":a[8]||(a[8]=o=>r.pedido.email=o),placeholder:"tu@email.com",class:"input-form"},null,512),[[i.Jo,r.pedido.email]])]),(0,s.Lk)("div",Ms,[a[36]||(a[36]=(0,s.Lk)("label",null,"TelÃ©fono *",-1)),(0,s.bo)((0,s.Lk)("input",{type:"tel","onUpdate:modelValue":a[9]||(a[9]=o=>r.pedido.telefono=o),placeholder:"+51 999 888 777",class:"input-form"},null,512),[[i.Jo,r.pedido.telefono]])])]),(0,s.Lk)("div",Ss,[a[37]||(a[37]=(0,s.Lk)("label",null,"DirecciÃ³n Completa *",-1)),(0,s.bo)((0,s.Lk)("textarea",{"onUpdate:modelValue":a[10]||(a[10]=o=>r.pedido.direccion=o),placeholder:"Calle, nÃºmero, distrito, referencias...",class:"textarea-form",rows:"3"},null,512),[[i.Jo,r.pedido.direccion]])]),(0,s.Lk)("div",As,[(0,s.Lk)("div",ws,[a[38]||(a[38]=(0,s.Lk)("label",null,"Distrito *",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":a[11]||(a[11]=o=>r.pedido.distrito=o),placeholder:"Miraflores",class:"input-form"},null,512),[[i.Jo,r.pedido.distrito]])]),(0,s.Lk)("div",zs,[a[39]||(a[39]=(0,s.Lk)("label",null,"Ciudad *",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":a[12]||(a[12]=o=>r.pedido.ciudad=o),placeholder:"Lima",class:"input-form"},null,512),[[i.Jo,r.pedido.ciudad]])])]),(0,s.Lk)("div",qs,[a[40]||(a[40]=(0,s.Lk)("label",null,"Notas adicionales (opcional)",-1)),(0,s.bo)((0,s.Lk)("textarea",{"onUpdate:modelValue":a[13]||(a[13]=o=>r.pedido.notas=o),placeholder:"Instrucciones especiales de entrega...",class:"textarea-form",rows:"2"},null,512),[[i.Jo,r.pedido.notas]])])]),(0,s.Lk)("div",Vs,[(0,s.Lk)("button",{class:"btn-anterior",onClick:a[14]||(a[14]=(...o)=>l.anteriorPaso&&l.anteriorPaso(...o))}," â† AtrÃ¡s "),(0,s.Lk)("button",{class:"btn-siguiente",onClick:a[15]||(a[15]=(...o)=>l.siguientePaso&&l.siguientePaso(...o))}," Continuar â†’ ")])])):(0,s.Q3)("",!0),3===r.paso?((0,s.uX)(),(0,s.CE)("div",js,[a[58]||(a[58]=(0,s.Lk)("h2",null,"Confirma tu Pedido",-1)),(0,s.Lk)("div",Us,[(0,s.Lk)("div",Ns,[a[42]||(a[42]=(0,s.Lk)("h3",null,"Producto",-1)),(0,s.Lk)("div",Ks,[(0,s.Lk)("img",{src:r.producto.imagen,alt:r.producto.nombre},null,8,Ds),(0,s.Lk)("div",null,[(0,s.Lk)("strong",null,(0,u.v_)(r.producto.nombre),1),(0,s.Lk)("p",null,(0,u.v_)(r.pedido.cantidad)+" Kg Ã— S/ "+(0,u.v_)(r.producto.precio),1)])])]),(0,s.Lk)("div",Qs,[a[49]||(a[49]=(0,s.Lk)("h3",null,"Datos de Entrega",-1)),(0,s.Lk)("div",Ts,[(0,s.Lk)("p",null,[a[43]||(a[43]=(0,s.Lk)("strong",null,"Nombre:",-1)),(0,s.eW)(" "+(0,u.v_)(r.pedido.nombreCompleto),1)]),(0,s.Lk)("p",null,[a[44]||(a[44]=(0,s.Lk)("strong",null,"Email:",-1)),(0,s.eW)(" "+(0,u.v_)(r.pedido.email),1)]),(0,s.Lk)("p",null,[a[45]||(a[45]=(0,s.Lk)("strong",null,"TelÃ©fono:",-1)),(0,s.eW)(" "+(0,u.v_)(r.pedido.telefono),1)]),(0,s.Lk)("p",null,[a[46]||(a[46]=(0,s.Lk)("strong",null,"DirecciÃ³n:",-1)),(0,s.eW)(" "+(0,u.v_)(r.pedido.direccion),1)]),(0,s.Lk)("p",null,[a[47]||(a[47]=(0,s.Lk)("strong",null,"Distrito:",-1)),(0,s.eW)(" "+(0,u.v_)(r.pedido.distrito)+", "+(0,u.v_)(r.pedido.ciudad),1)]),r.pedido.notas?((0,s.uX)(),(0,s.CE)("p",Js,[a[48]||(a[48]=(0,s.Lk)("strong",null,"Notas:",-1)),(0,s.eW)(" "+(0,u.v_)(r.pedido.notas),1)])):(0,s.Q3)("",!0)])]),(0,s.Lk)("div",Rs,[a[53]||(a[53]=(0,s.Lk)("h3",null,"Resumen de Pago",-1)),(0,s.Lk)("div",$s,[(0,s.Lk)("div",Os,[a[50]||(a[50]=(0,s.Lk)("span",null,"Subtotal:",-1)),(0,s.Lk)("span",null,"S/ "+(0,u.v_)(l.subtotal.toFixed(2)),1)]),(0,s.Lk)("div",Bs,[a[51]||(a[51]=(0,s.Lk)("span",null,"EnvÃ­o:",-1)),(0,s.Lk)("span",null,(0,u.v_)(0===r.costoEnvio?"Gratis":"S/ "+r.costoEnvio.toFixed(2)),1)]),(0,s.Lk)("div",Ws,[a[52]||(a[52]=(0,s.Lk)("span",null,"Total a Pagar:",-1)),(0,s.Lk)("span",null,"S/ "+(0,u.v_)(l.totalFinal.toFixed(2)),1)])])])]),(0,s.Lk)("div",Hs,[a[57]||(a[57]=(0,s.Lk)("h3",null,"MÃ©todo de Pago",-1)),(0,s.Lk)("div",Gs,[(0,s.Lk)("label",{class:(0,u.C4)(["opcion-pago",{seleccionada:"efectivo"===r.pedido.metodoPago}])},[(0,s.bo)((0,s.Lk)("input",{type:"radio",value:"efectivo","onUpdate:modelValue":a[16]||(a[16]=o=>r.pedido.metodoPago=o)},null,512),[[i.XL,r.pedido.metodoPago]]),a[54]||(a[54]=(0,s.Lk)("div",{class:"contenido-opcion"},[(0,s.Lk)("span",{class:"icono"},"ðŸ’µ"),(0,s.Lk)("div",null,[(0,s.Lk)("strong",null,"Efectivo"),(0,s.Lk)("p",null,"Pago contra entrega")])],-1))],2),(0,s.Lk)("label",{class:(0,u.C4)(["opcion-pago",{seleccionada:"transferencia"===r.pedido.metodoPago}])},[(0,s.bo)((0,s.Lk)("input",{type:"radio",value:"transferencia","onUpdate:modelValue":a[17]||(a[17]=o=>r.pedido.metodoPago=o)},null,512),[[i.XL,r.pedido.metodoPago]]),a[55]||(a[55]=(0,s.Lk)("div",{class:"contenido-opcion"},[(0,s.Lk)("span",{class:"icono"},"ðŸ¦"),(0,s.Lk)("div",null,[(0,s.Lk)("strong",null,"Transferencia"),(0,s.Lk)("p",null,"Banco de la NaciÃ³n")])],-1))],2),(0,s.Lk)("label",{class:(0,u.C4)(["opcion-pago",{seleccionada:"yape"===r.pedido.metodoPago}])},[(0,s.bo)((0,s.Lk)("input",{type:"radio",value:"yape","onUpdate:modelValue":a[18]||(a[18]=o=>r.pedido.metodoPago=o)},null,512),[[i.XL,r.pedido.metodoPago]]),a[56]||(a[56]=(0,s.Lk)("div",{class:"contenido-opcion"},[(0,s.Lk)("span",{class:"icono"},"ðŸ“±"),(0,s.Lk)("div",null,[(0,s.Lk)("strong",null,"Yape / Plin"),(0,s.Lk)("p",null,"Pago por billetera mÃ³vil")])],-1))],2)])]),(0,s.Lk)("div",Ys,[(0,s.Lk)("button",{class:"btn-anterior",onClick:a[19]||(a[19]=(...o)=>l.anteriorPaso&&l.anteriorPaso(...o))}," â† AtrÃ¡s "),(0,s.Lk)("button",{class:"btn-confirmar",onClick:a[20]||(a[20]=(...o)=>l.confirmarPedido&&l.confirmarPedido(...o))}," Confirmar Pedido âœ“ ")])])):(0,s.Q3)("",!0)])]),(0,s.bF)(i.eB,{name:"fade"},{default:(0,s.k6)(()=>[r.mostrarExito?((0,s.uX)(),(0,s.CE)("div",{key:0,class:"modal-exito",onClick:a[23]||(a[23]=(...o)=>l.cerrarModal&&l.cerrarModal(...o))},[(0,s.Lk)("div",{class:"contenido-exito",onClick:a[22]||(a[22]=(0,i.D$)(()=>{},["stop"]))},[a[61]||(a[61]=(0,s.Lk)("div",{class:"icono-exito"},"âœ“",-1)),a[62]||(a[62]=(0,s.Lk)("h2",null,"Â¡Pedido Confirmado!",-1)),a[63]||(a[63]=(0,s.Lk)("p",null,"Tu pedido ha sido enviado al agricultor y estÃ¡ esperando confirmaciÃ³n.",-1)),(0,s.Lk)("div",Zs,[(0,s.Lk)("p",null,[a[59]||(a[59]=(0,s.Lk)("strong",null,"NÃºmero de pedido:",-1)),(0,s.eW)(" #"+(0,u.v_)(r.numeroPedido),1)]),(0,s.Lk)("p",null,[a[60]||(a[60]=(0,s.Lk)("strong",null,"Total:",-1)),(0,s.eW)(" S/ "+(0,u.v_)(l.totalFinal.toFixed(2)),1)])]),a[64]||(a[64]=(0,s.Lk)("p",{class:"mensaje-final"},"RecibirÃ¡s una notificaciÃ³n cuando el agricultor confirme tu pedido.",-1)),(0,s.Lk)("button",{class:"btn-cerrar-modal",onClick:a[21]||(a[21]=(...o)=>l.irAMisPedidos&&l.irAMisPedidos(...o))}," Ver Mis Pedidos ")])])):(0,s.Q3)("",!0)]),_:1})])}const at={name:"CompraPage",data(){return{paso:1,mostrarExito:!1,numeroPedido:"",producto:{id:1,nombre:"Mangos dulces",descripcion:"Mangos frescos y jugosos, perfectos para disfrutar frescos o en postres",imagen:e(357),precio:7,stock:20,rating:4.8,agricultorId:1,agricultorNombre:"Luis Mendoza",agricultorImagen:e(592)},pedido:{cantidad:1,nombreCompleto:"",email:"",telefono:"",direccion:"",distrito:"",ciudad:"",notas:"",metodoPago:"efectivo"},costoEnvio:0}},computed:{subtotal(){return this.producto.precio*this.pedido.cantidad},totalFinal(){return this.subtotal+this.costoEnvio}},methods:{aumentarCantidad(){this.pedido.cantidad<this.producto.stock&&this.pedido.cantidad++},disminuirCantidad(){this.pedido.cantidad>1&&this.pedido.cantidad--},validarCantidad(){this.pedido.cantidad<1?this.pedido.cantidad=1:this.pedido.cantidad>this.producto.stock&&(this.pedido.cantidad=this.producto.stock)},siguientePaso(){1===this.paso?this.paso=2:2===this.paso&&this.validarDatosEntrega()&&(this.paso=3)},anteriorPaso(){this.paso>1&&this.paso--},validarDatosEntrega(){return!!(this.pedido.nombreCompleto&&this.pedido.email&&this.pedido.telefono&&this.pedido.direccion&&this.pedido.distrito&&this.pedido.ciudad)||(alert("Por favor completa todos los campos obligatorios (*)"),!1)},confirmarPedido(){this.numeroPedido="PED"+Date.now(),console.log("Pedido confirmado:",{producto:this.producto,pedido:this.pedido,subtotal:this.subtotal,total:this.totalFinal}),this.mostrarExito=!0},cerrarModal(){this.mostrarExito=!1,this.$router.push("/productos")},irAMisPedidos(){this.mostrarExito=!1,this.$router.push("/perfil-comprador")},volver(){this.$router.push("/productos")}},mounted(){const o=this.$route.params.productoId;o&&console.log("Cargando producto:",o)}},et=(0,l.A)(at,[["render",ot],["__scopeId","data-v-2f51dff8"]]),it=et,st=[{path:"/",redirect:"/login"},{path:"/login",name:"Login",component:y},{path:"/register",name:"Register",component:A},{path:"/productos",name:"Productos",component:$o},{path:"/perfil",name:"Perfil",component:Ne},{path:"/perfil-comprador",name:"PerfilComprador",component:Ti},{path:"/compra/:productoId?",name:"Compra",component:it}],tt=(0,d.aE)({history:(0,d.Bt)("/Frontend-AgriLink/"),routes:st}),rt=tt;(0,i.Ef)(n).use(rt).mount("#app")},247:(o,a,e)=>{o.exports=e.p+"img/zanahorias.7d6d2841.jpg"},357:(o,a,e)=>{o.exports=e.p+"img/mango.ddfe0fd2.jpg"},576:(o,a,e)=>{o.exports=e.p+"img/tomates.ea44ea0a.jpg"},592:(o,a,e)=>{o.exports=e.p+"img/fotouser.0cfbf3d2.jpg"},850:(o,a,e)=>{o.exports=e.p+"img/limon.1ceeab03.jpg"},982:(o,a,e)=>{o.exports=e.p+"img/lechuga.1bc471d2.jpg"}},a={};function e(i){var s=a[i];if(void 0!==s)return s.exports;var t=a[i]={exports:{}};return o[i](t,t.exports,e),t.exports}e.m=o,(()=>{var o=[];e.O=(a,i,s,t)=>{if(!i){var r=1/0;for(d=0;d<o.length;d++){for(var[i,s,t]=o[d],l=!0,c=0;c<i.length;c++)(!1&t||r>=t)&&Object.keys(e.O).every(o=>e.O[o](i[c]))?i.splice(c--,1):(l=!1,t<r&&(r=t));if(l){o.splice(d--,1);var n=s();void 0!==n&&(a=n)}}return a}t=t||0;for(var d=o.length;d>0&&o[d-1][2]>t;d--)o[d]=o[d-1];o[d]=[i,s,t]}})(),(()=>{e.d=(o,a)=>{for(var i in a)e.o(a,i)&&!e.o(o,i)&&Object.defineProperty(o,i,{enumerable:!0,get:a[i]})}})(),(()=>{e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(o){if("object"===typeof window)return window}}()})(),(()=>{e.o=(o,a)=>Object.prototype.hasOwnProperty.call(o,a)})(),(()=>{e.p="/Frontend-AgriLink/"})(),(()=>{var o={524:0};e.O.j=a=>0===o[a];var a=(a,i)=>{var s,t,[r,l,c]=i,n=0;if(r.some(a=>0!==o[a])){for(s in l)e.o(l,s)&&(e.m[s]=l[s]);if(c)var d=c(e)}for(a&&a(i);n<r.length;n++)t=r[n],e.o(o,t)&&o[t]&&o[t][0](),o[t]=0;return e.O(d)},i=self["webpackChunkmi_proyecto_vue"]=self["webpackChunkmi_proyecto_vue"]||[];i.forEach(a.bind(null,0)),i.push=a.bind(null,i.push.bind(i))})();var i=e.O(void 0,[504],()=>e(235));i=e.O(i)})();
//# sourceMappingURL=app.cf1cfbc8.js.map